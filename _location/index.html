<!DOCTYPE html>

<!--Asset browser web demo written by Kyle Hessel with bits and pieces derived from Cory Hessel & Jeff McKinney's code.-->

<html>
	<head>
        
		<title>Photo360 Asset Browser Demo</title>

	</head>

	<body align="center">

        <!--load SR4 by default-->
        <p align="center"><iframe style="border: 10px #19c221 solid;" src="https://photo360.pennoni.com/projects/sr4/index.html" name="photo360" id="photo360" width="1700px" height="1000px" frameborder="1" marginwidth="0px" marginheight="0px" scrolling="no" allowfullscreen="allowfullscreen"></iframe></p>
        <p align="center"   style="font-family:verdana">   

        <b><u>Load Photo360 Project</u></b>
        <br>
        <br>

        <!--input a new Photo360 to load it: populate this box with SR4 by default-->
        <b>Photo360 /project/: </b><input type="text" id="inputurl" value="https://photo360.pennoni.com/projects/sr4/index.html" style="width: 300px"></input><button type="button" onClick="loadPhoto360();">Load</button>

        <br>
        <br>

        <!--turn the crosshair in the iframe on and off with event listeners.-->
        <button onclick="enableCrosshair();">Enable Crosshair</button> &nbsp; <button onclick="disableCrosshair();">Disable Crosshair</button>

        <br>
        <br>

        <!--navigate to the next nearest or next farthest neighbor with event listeners (only works once data is loaded, located)-->
        <button onclick="nextNearestNeighbor();">Move Closer</button> &nbsp; <button onclick="nextFurthestNeighbor();">Move Farther</button>
        <br>
        <br>

        <!--display current distance from the given node in the tour to the provided input (either the selected row in the spreadsheet, or single coordinate)-->
        <h3>Current distance: </h3><div id="distance_display">null</div>

        <br>
        <br>
        <u><b>View assets within a dataset from any available perspective in a given Photo360.</b></u>
        <br>
        <br>

        <!-- Input a dataset (CSV) -->
        <h3>Input a dataset of coordinates</h3>

        <!--use a <label> tag with the file input tag, good practice apparently-->
        <label for="csv_importer">Import .CSV</label>
        <br> <!--display our file upon import by calling a function with an event listener.-->
        <input type="file" name="csv_importer" id="csv_importer" accept=".csv"><input type="button" value="Import" onclick="parseFileAndContinue();">

        <br>

        <!--choose the format for our dataset so that we can decide how to sort it.-->
        <b>Format:</b>
        <select name="cogo_format_set" id="cogo_format_set">
            <option value="PENZD">PENZD</option>
            <option value="PNEZD">PNEZD</option>
            <option value="XYZ">XYZ</option>
        </select>

        <!--unlike importing a single point, the delimiter is auto-detected by papa parse, so we make note of this-->
        <b>Delimiter: (autodetected)</b>

        <!--create an empty div to hold a table. tabulator will later be instructed to create it inside an element with the given ID-->
        <div id="input_table" tabulator-tooltips="true">

        </div>

        <br>
        <br>


        <!--Input a single point, typically fetched from within the point cloud-->
        <h3>Input a single coordinate</h3>

        <input type="text" id="cogo_input" style="width: 250px" name="cogo_input"><input type="button" value="Go" onclick="parseInputFromTextAndContinue();">

        <br>

        <b>Format:</b>
        <select name="cogo_format" id="cogo_format">
            <option value="XYZ">XYZ</option>
            <option value="PNEZD">PNEZD</option>
            <option value="PENZD">PENZD</option>
        </select>


        <b>Delimiter:</b>
        <select name="delimiter" id="delimiter">
            <option value="Comma">Comma</option>
            <option value="Space">Space</option>
            <option value="Colon">Colon</option>
        </select>
        <br>


        <!-- old coordinate inputs
        <b><u>Alt:</u></b>
        <br>
        <br>

        <b>Target:   X: </b><input type="text" id="inputtargetx" style="width: 100px" value="1295837.927"> 
        <b>Y: </b><input type="text" id="inputtargety" style="width: 100px" value="469850.7971"> 
        <b>Z: </b><input type="text" id="inputtargetz" style="width: 100px" value="172.16">

        <button onclick="targetFromNearestNeighbor(0, document.getElementById('inputtargetx').value, document.getElementById('inputtargety').value, document.getElementById('inputtargetz').value);">Target</button> &nbsp;
        -->
        &nbsp;
        &nbsp;
        &nbsp;

        <!--include minified papa parse source code-->
        <script src="libs/papaparse.min.js"></script>

        <!--include tabulator source code and styling-->
        <link href="libs/tabulator_modern.min.css" rel="stylesheet">
        <script type="text/javascript" src="libs/tabulator.min.js"></script>

        <!--include our own code for the Asset Browser.-->
        <script src="src/AssetBrowser.js"></script>
    </body>
</html>